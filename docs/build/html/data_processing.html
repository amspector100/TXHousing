

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Autogenerated Documentation for data_processing &mdash; TXHousing 1.0 documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Autogenerated Documentation for analysis package" href="analysis.html" />
    <link rel="prev" title="Autogenerated Documentation for utilities" href="utilities.html" /> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> TXHousing
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="utilities.html">Autogenerated Documentation for utilities</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Autogenerated Documentation for data_processing</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#module-TXHousing.data_processing.boundaries">Boundary Data Processing</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-TXHousing.data_processing.zoning">Zoning Data Processing</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-TXHousing.data_processing.property">Property Data Processing</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-TXHousing.data_processing.parcel">Parcel Data Processing</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-TXHousing.data_processing.permit">Permit Data Processing</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="analysis.html">Autogenerated Documentation for analysis package</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">TXHousing</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Autogenerated Documentation for data_processing</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/data_processing.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="autogenerated-documentation-for-data-processing">
<h1>Autogenerated Documentation for data_processing<a class="headerlink" href="#autogenerated-documentation-for-data-processing" title="Permalink to this headline">¶</a></h1>
<div class="section" id="module-TXHousing.data_processing.boundaries">
<span id="boundary-data-processing"></span><h2>Boundary Data Processing<a class="headerlink" href="#module-TXHousing.data_processing.boundaries" title="Permalink to this headline">¶</a></h2>
<p>Paths and methods for boundary files (uas, csa, counties, blocks, etc)</p>
<dl class="class">
<dt id="TXHousing.data_processing.boundaries.BlockBoundaries">
<em class="property">class </em><code class="descclassname">TXHousing.data_processing.boundaries.</code><code class="descname">BlockBoundaries</code><span class="sig-paren">(</span><em>data_layers</em>, <em>cities=None</em>, <em>get_percent_residential=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/TXHousing/data_processing/boundaries.html#BlockBoundaries"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TXHousing.data_processing.boundaries.BlockBoundaries" title="Permalink to this definition">¶</a></dt>
<dd><p>Class for block data, wraps Boundaries class, with a substantially different init method. After initialization,
self.data is a gdf with a ‘geometry’ column, a variety of block data columns, and if cities is not None, it has a
‘place’ column as well.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>data_layers</strong> – Iterable of codes for the data layer of the geodatabase.</li>
<li><strong>cities</strong> – City name (i.e. ‘Austin’), or iterable of city names to filter by (i.e. [‘Austin’, ‘Dallas’].
Need to be in Texas or this won’t work. Defaults to None.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="TXHousing.data_processing.boundaries.Boundaries">
<em class="property">class </em><code class="descclassname">TXHousing.data_processing.boundaries.</code><code class="descname">Boundaries</code><span class="sig-paren">(</span><em>path</em>, <em>crs=None</em>, <em>index_col=None</em>, <em>index_type=None</em>, <em>subset_by=None</em>, <em>subset_to=None</em>, <em>bounding_counties=None</em>, <em>bounding_polygon=None</em>, <em>to_latlong=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/TXHousing/data_processing/boundaries.html#Boundaries"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TXHousing.data_processing.boundaries.Boundaries" title="Permalink to this definition">¶</a></dt>
<dd><p>A parent class for boundary files (i.e. counties, places, uas). Note that block data has a different __init__
method because block data comes as a geodatabase not a shapefile.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>path</strong> – The path of the boundaries shapefile.</li>
<li><strong>crs</strong> – Default None. If you cannot read the CRS data from the</li>
<li><strong>index_col</strong> – The column in the shapefile to use as the index. Defaults to None.</li>
<li><strong>index_type</strong> – Change the index to this type, i.e. ‘str’</li>
<li><strong>subset_by</strong> – Subset by this column. Can be ‘index’ or another column name.</li>
<li><strong>subset_to</strong> – Subset to one of these values.</li>
<li><strong>bounding_counties</strong> – Default None. A list of counties. If not None, __init__ will subset the data
to only include boundaries intersecting these counties.</li>
<li><strong>bounding_polygon</strong> – Default None. A shapely polygon. If not None, __init__ will subset the data to only include
boundaries intersecting the polygon.</li>
<li><strong>to_latlong</strong> – Default True. Initially tansform data to lat long.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="TXHousing.data_processing.boundaries.Boundaries.fast_intersection">
<code class="descname">fast_intersection</code><span class="sig-paren">(</span><em>gdf</em>, <em>geometry_column='geometry'</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/TXHousing/data_processing/boundaries.html#Boundaries.fast_intersection"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TXHousing.data_processing.boundaries.Boundaries.fast_intersection" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a gdf of polygons or points, will calculate which boundary each polygon/point lies inside. Assumes that
if the gdf is full of polygon data, each polygon will only intersect a single zip code.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>gdf</strong> – A geodataframe, in the same crs as the boundaries data.</li>
<li><strong>geometry_column</strong> – The geometry column of the gdf.</li>
<li><strong>kwargs</strong> – kwargs to pass to the underlying fast_polygon_intersection or points_intersect_multiple_polygons
functions.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">A pandas series mapping the index of the gdf to the indexes/names of the boundaries. If an index does not
appear in the returned series, that is because the point/polygon for that index did not lie inside any of
the boundaries polygons.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="TXHousing.data_processing.boundaries.Boundaries.process_external_gdf">
<code class="descname">process_external_gdf</code><span class="sig-paren">(</span><em>gdf</em>, <em>geometry_column='geometry'</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/TXHousing/data_processing/boundaries.html#Boundaries.process_external_gdf"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TXHousing.data_processing.boundaries.Boundaries.process_external_gdf" title="Permalink to this definition">¶</a></dt>
<dd><p>Processes external gdf’s geometry/crs. Passes kwargs to process_geometry or process_points call.</p>
</dd></dl>

<dl class="method">
<dt id="TXHousing.data_processing.boundaries.Boundaries.pull_features">
<code class="descname">pull_features</code><span class="sig-paren">(</span><em>gdf</em>, <em>features</em>, <em>geometry_column='geometry'</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/TXHousing/data_processing/boundaries.html#Boundaries.pull_features"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TXHousing.data_processing.boundaries.Boundaries.pull_features" title="Permalink to this definition">¶</a></dt>
<dd><p>Given features in a non-boundaries gdf, this “pulls” or calculates those features for the boundary data attribute.
This a slower alternative to the fast_intersection method.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>gdf</strong> (<em>GeoDataFrame</em>) – A geodataframe of polygon geometry.</li>
<li><strong>features</strong> – The factors to calculate from the gdf.</li>
<li><strong>geometry_column</strong> – The geometry column of the gdf.</li>
<li><strong>kwargs</strong> – kwargs to pass to the underlying get_averages_by_area function.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">None but modifies self.data so that it has ‘factors’ columns.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="TXHousing.data_processing.boundaries.Boundaries.push_features">
<code class="descname">push_features</code><span class="sig-paren">(</span><em>gdf</em>, <em>features</em>, <em>geometry_column='geometry'</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/TXHousing/data_processing/boundaries.html#Boundaries.push_features"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TXHousing.data_processing.boundaries.Boundaries.push_features" title="Permalink to this definition">¶</a></dt>
<dd><p>Given features in boundaries data, this “pushes” or calculates those features for another gdf of other (usually
smaller) polygons. This is effectively a slower alternative to the fast_intersection method.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>gdf</strong> (<em>GeoDataFrame</em>) – A geodataframe of polygon geometry.</li>
<li><strong>features</strong> – The factors to calculate</li>
<li><strong>geometry_column</strong> – The geometry column of the gdf.</li>
<li><strong>kwargs</strong> – kwargs to pass to the underlying get_averages_by_area function.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">The gdf but with ‘factors’ columns.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="TXHousing.data_processing.boundaries.Boundaries.spatial_subset">
<code class="descname">spatial_subset</code><span class="sig-paren">(</span><em>polygon</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/TXHousing/data_processing/boundaries.html#Boundaries.spatial_subset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TXHousing.data_processing.boundaries.Boundaries.spatial_subset" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a polygon, will return a subset of self.data which only includes boundaries which intersect the polygon.</p>
</dd></dl>

<dl class="method">
<dt id="TXHousing.data_processing.boundaries.Boundaries.type_of_external_gdf">
<code class="descname">type_of_external_gdf</code><span class="sig-paren">(</span><em>gdf</em>, <em>geometry_column='geometry'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/TXHousing/data_processing/boundaries.html#Boundaries.type_of_external_gdf"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TXHousing.data_processing.boundaries.Boundaries.type_of_external_gdf" title="Permalink to this definition">¶</a></dt>
<dd><p>Figures out the type of geometry (point or polygon) of a gdf and raises an error if it’s mixed</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="TXHousing.data_processing.boundaries.ZipBoundaries">
<em class="property">class </em><code class="descclassname">TXHousing.data_processing.boundaries.</code><code class="descname">ZipBoundaries</code><span class="sig-paren">(</span><em>ziplist=None</em>, <em>bounding_counties=None</em>, <em>bounding_polygon=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/TXHousing/data_processing/boundaries.html#ZipBoundaries"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TXHousing.data_processing.boundaries.ZipBoundaries" title="Permalink to this definition">¶</a></dt>
<dd><p>Class for Zipcode Boundaries Data, wraps Boundaries class.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>ziplist</strong> – A list of zipcodes to subset to.</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="TXHousing.data_processing.boundaries.ZipBoundaries.add_property_data">
<code class="descname">add_property_data</code><span class="sig-paren">(</span><em>property_input</em>, <em>features=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/TXHousing/data_processing/boundaries.html#ZipBoundaries.add_property_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TXHousing.data_processing.boundaries.ZipBoundaries.add_property_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Add demand features from realtor/zillow inputs</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>demand_input</strong> – A property_input class</li>
<li><strong>features</strong> – Optional features to subset to</li>
<li><strong>kwargs</strong> – <a href="#id1"><span class="problematic" id="id2">**</span></a>kwargs to pass to the .join method. Often useful to pass a rsuffix to prevent ValueErrors.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">None, but changes self.data</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="TXHousing.data_processing.boundaries.calc_percent_residential_in_block_groups">
<code class="descclassname">TXHousing.data_processing.boundaries.</code><code class="descname">calc_percent_residential_in_block_groups</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/TXHousing/data_processing/boundaries.html#calc_percent_residential_in_block_groups"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TXHousing.data_processing.boundaries.calc_percent_residential_in_block_groups" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the percent zoned as residential in each block group. Should be run in the setup.py. This has been
tested for accuracy but is not in the unittests.</p>
</dd></dl>

</div>
<div class="section" id="module-TXHousing.data_processing.zoning">
<span id="zoning-data-processing"></span><h2>Zoning Data Processing<a class="headerlink" href="#module-TXHousing.data_processing.zoning" title="Permalink to this headline">¶</a></h2>
<p>Processes zoning data for Austin, Dallas, and all of North Texas</p>
<dl class="class">
<dt id="TXHousing.data_processing.zoning.Zoning_Input">
<em class="property">class </em><code class="descclassname">TXHousing.data_processing.zoning.</code><code class="descname">Zoning_Input</code><span class="sig-paren">(</span><em>path</em>, <em>feature</em>, <em>separator</em>, <em>proj4string</em>, <em>base_zones</em>, <em>lat=0</em>, <em>long=0</em>, <em>zoom=10</em>, <em>title=''</em>, <em>crs=None</em>, <em>regulations_path=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/TXHousing/data_processing/zoning.html#Zoning_Input"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TXHousing.data_processing.zoning.Zoning_Input" title="Permalink to this definition">¶</a></dt>
<dd><p>Simple class which binds information about zoning datasets. Also, the lat/long features define the city
center for each city.</p>
<dl class="method">
<dt id="TXHousing.data_processing.zoning.Zoning_Input.process_zoning_shapefile">
<code class="descname">process_zoning_shapefile</code><span class="sig-paren">(</span><em>overlay={'-MU': 'Multifamily'}</em>, <em>broaden=True</em>, <em>parse_base_zones=True</em>, <em>regulation_features=None</em>, <em>quietly=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/TXHousing/data_processing/zoning.html#Zoning_Input.process_zoning_shapefile"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TXHousing.data_processing.zoning.Zoning_Input.process_zoning_shapefile" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>broaden</strong> (<em>Boolean</em>) – Default true. If true, will decode zoning data into a broader classification (i.e. sf, mf)
as specified by the zoning input class - this processed zoning data will go in a column labelled “broad_zone.”</li>
<li><strong>overlay</strong> – A dictionary which maps overlay strings to broadened outputs. This is mostly useful for dealing with
mixed use overlays in Austin (there are no mixed-use base zones, so passing in ‘-mu’:’Multifamily’} will help
the function recognize that mixed-use zones are multifamily zones.</li>
<li><strong>parse_base_zones</strong> – Boolean. Default true. If true, will use the regulations path provided by the input to
parse the base zones of the zoning data.</li>
<li><strong>regulation_features</strong> – A list of features to retrieve from the regulation data. Default None.</li>
<li><strong>quietly</strong> (<em>Boolean</em>) – Default false. If true, will suppress all print statements and make the function “quiet”</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-TXHousing.data_processing.property">
<span id="property-data-processing"></span><h2>Property Data Processing<a class="headerlink" href="#module-TXHousing.data_processing.property" title="Permalink to this headline">¶</a></h2>
<p>Processes property data, supplied by Realtor and Zillow</p>
<dl class="class">
<dt id="TXHousing.data_processing.property.Property_Input">
<em class="property">class </em><code class="descclassname">TXHousing.data_processing.property.</code><code class="descname">Property_Input</code><span class="sig-paren">(</span><em>path</em>, <em>source</em>, <em>geo_filter=None</em>, <em>geo_filter_values=None</em>, <em>index_col=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/TXHousing/data_processing/property.html#Property_Input"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TXHousing.data_processing.property.Property_Input" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>path</strong> – Path of the dataset of property data. Data should be in a csv.</li>
<li><strong>source</strong> – Source of the data; can either be “Zillow” or “Realtor”</li>
<li><strong>feature</strong> – Name of the feature. In the case of Realtor data, this must be the column of the data.</li>
<li><strong>geo_filter</strong> – A kwarg. This is the geography level (i.e. city, state, county) by which to filter data,
and it should be a column of the dataset. Default depends on the source.</li>
<li><strong>geo_filter_values</strong> – A list of values to subset the data to (by geo_filter). Defaults to some flavor of
[‘Austin’, ‘Houston’, ‘Dallas’] - but the specific strings are set to the source. If geo_filter_values == ‘all’,
then the data will not be filtered.</li>
<li><strong>index_col</strong> – A kwarg. The column to use as the index. Default depends on the source.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="TXHousing.data_processing.property.Property_Input.graph">
<code class="descname">graph</code><span class="sig-paren">(</span><em>style='line'</em>, <em>date=datetime.date(2018</em>, <em>4</em>, <em>1)</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/TXHousing/data_processing/property.html#Property_Input.graph"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TXHousing.data_processing.property.Property_Input.graph" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>style</strong> – Either ‘bar’ or ‘line’. Note that line graphs are not supported for Realtor data.</li>
<li><strong>date</strong> – If doing a bar graph of Zillow data, the date to graph.</li>
<li><strong>plot</strong> – If false, do not actually show the plot of the data.</li>
<li><strong>kwargs</strong> – kwargs to pass to the process_property_data function.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">None</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="TXHousing.data_processing.property.Property_Input.process_property_data">
<code class="descname">process_property_data</code><span class="sig-paren">(</span><em>features=None</em>, <em>geo_filter_values=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/TXHousing/data_processing/property.html#Property_Input.process_property_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TXHousing.data_processing.property.Property_Input.process_property_data" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>features</strong> – For realtor data, subset to only include these features. Defaults to None.</li>
<li><strong>geo_filter_values</strong> – For convenience, you have the opportunity to override the self.geo_filter_values value
with a new value, e.g. ‘all’ if you don’t want to subset the data.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">Two pandas dataframes, data and metadata (in that order). For Zillow inputs, data will have geographies
in the index and a time series on the column, and metadata will have a variety of information about zip codes.
For Realtor data, the data will have geographies in the index and a variety of features in the columns.</p>
</td>
</tr>
</tbody>
</table>
<p>Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">realtor_hotness_data</span> <span class="o">=</span> <span class="n">Property_Input</span><span class="p">(</span><span class="n">path</span> <span class="o">=</span> <span class="s2">&quot;data/RDC_MarketHotness_Monthly_Zip.csv&quot;</span><span class="p">,</span> <span class="n">source</span> <span class="o">=</span> <span class="s1">&#39;Realtor&#39;</span><span class="p">)</span>
<span class="n">data</span><span class="p">,</span> <span class="n">metadata</span> <span class="o">=</span> <span class="n">realtor_hotness_data</span><span class="o">.</span><span class="n">process_property_data</span><span class="p">(</span><span class="n">features</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Median DOM (vs CBSA)&#39;</span><span class="p">,</span> <span class="s1">&#39;Views Per Property  (vs CBSA)&#39;</span><span class="p">]</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-TXHousing.data_processing.parcel">
<span id="parcel-data-processing"></span><h2>Parcel Data Processing<a class="headerlink" href="#module-TXHousing.data_processing.parcel" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="TXHousing.data_processing.parcel.join_dallas_parcel_data">
<code class="descclassname">TXHousing.data_processing.parcel.</code><code class="descname">join_dallas_parcel_data</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/TXHousing/data_processing/parcel.html#join_dallas_parcel_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TXHousing.data_processing.parcel.join_dallas_parcel_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Joins 2013 and 2016 Dallas parcel data. Hopefully this will never be necessary as it takes a while.</p>
</dd></dl>

<dl class="function">
<dt id="TXHousing.data_processing.parcel.process_austin_parcel_data">
<code class="descclassname">TXHousing.data_processing.parcel.</code><code class="descname">process_austin_parcel_data</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/TXHousing/data_processing/parcel.html#process_austin_parcel_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TXHousing.data_processing.parcel.process_austin_parcel_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads Austin parcel data and processes base zones.</p>
</dd></dl>

<dl class="function">
<dt id="TXHousing.data_processing.parcel.process_houston_parcel_data">
<code class="descclassname">TXHousing.data_processing.parcel.</code><code class="descname">process_houston_parcel_data</code><span class="sig-paren">(</span><em>feature_files=['data/Zoning Shapefiles/Harris_Parcel_Land_Features/building_res.txt'], feature_columns_list=[['ACCOUNT', 'USE_CODE', 'BUILDING_NUMBER', 'IMPRV_TYPE', 'BUILDING_STYLE_CODE', 'CLASS_STRUCTURE', 'CLASS_STRUC_DESCRIPTION', 'DEPRECIATION_VALUE', 'CAMA_REPLACEMENT_COST', 'ACCRUED_DEPR_PCT', 'QUALITY', 'QUALITY_DESCRIPTION', 'DATE_ERECTED', 'EFFECTIVE_DATE', 'YR_REMODEL', 'YR_ROLL', 'APPRAISED_BY', 'APPRAISED_DATE', 'NOTE', 'IMPR_SQ_FT', 'ACTUAL_AREA', 'HEAT_AREA', 'GROSS_AREA', 'EFFECTIVE_AREA', 'BASE_AREA', 'PERIMETER', 'PERCENT_COMPLETE', 'NBHD_FACTOR', 'RCNLD', 'SIZE_INDEX', 'LUMP_SUM_ADJ']], process_crs=True, county_level=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/TXHousing/data_processing/parcel.html#process_houston_parcel_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TXHousing.data_processing.parcel.process_houston_parcel_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Merge houston or harris parcel data with harris county data.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>feature_files</strong> – A list of paths of feature files to merge with the data. Defaults to
the building_res file path. Can also be a string of one file (doesn’t have to be a list). If you set this equal
to None, it will just return the parcel shape data with no other data attached.</li>
<li><strong>feature_columns_list</strong> – A list of column headers for each file - you can find these in the
Harris_Parcel_Feature_Columns microsoft database under data.</li>
<li><strong>process_crs</strong> (<em>bool</em>) – Default True. If True, transform parcel data to latlong. This is very expensive.</li>
<li><strong>county_level</strong> – Default False. If False, subset the data to only consider the parcels within the Houston
municipal boundaries.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">GeoDataFrame with the parcel shapes and the merged data.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="TXHousing.data_processing.parcel.process_lot_descriptions">
<code class="descclassname">TXHousing.data_processing.parcel.</code><code class="descname">process_lot_descriptions</code><span class="sig-paren">(</span><em>gdf</em>, <em>description_column</em>, <em>broad_zone_dictionary</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/TXHousing/data_processing/parcel.html#process_lot_descriptions"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TXHousing.data_processing.parcel.process_lot_descriptions" title="Permalink to this definition">¶</a></dt>
<dd><p>Processes lot descriptions for zoning data</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>gdf</strong> – A geodataframe, presumably of parcel data, but it could honestly be of anything.</li>
<li><strong>description_column</strong> – The column of descriptions to parse</li>
<li><strong>broad_zone_dictionary</strong> – A dictionary mapping base zones (i.e. ‘Single Family’) to a list of strings
which signal that a description means that base zone. Ex: {‘Single Family’:[‘sf’, ‘single f’], ‘Multifamily’:[‘mf’]}
Note that the order of this dictionary DOES matter - the function will return the FIRST key which has a match.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">A pandas series of the base zones.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-TXHousing.data_processing.permit">
<span id="permit-data-processing"></span><h2>Permit Data Processing<a class="headerlink" href="#module-TXHousing.data_processing.permit" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="TXHousing.data_processing.permit.correct_dallas_permit_data">
<code class="descclassname">TXHousing.data_processing.permit.</code><code class="descname">correct_dallas_permit_data</code><span class="sig-paren">(</span><em>api_key=None</em>, <em>address_cache_path=None</em>, <em>dpm_save_path=None</em>, <em>re_geocode=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/TXHousing/data_processing/permit.html#correct_dallas_permit_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TXHousing.data_processing.permit.correct_dallas_permit_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Corrects and caches dallas construction permit data. This function worked the first time but is a untested
since then. I would not recommend running this again, as it requires getting a google maps account and that’s been
getting harder over time. Instead, it’s easier to pull the geocoded addresses from
<a class="reference external" href="https://github.com/amspector100/TXHousing/tree/reorganization/shared_data">https://github.com/amspector100/TXHousing/tree/reorganization/shared_data</a></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>address_cache_path</strong> – The path at which to cache the geocoded addresses.</li>
<li><strong>dpm_save_path</strong> – The path at which to cache the entirely correct permit data.</li>
<li><strong>re_geocode</strong> (<em>Boolean</em>) – If true, re-pull all the data from the google maps API. Else, just use the cached address path.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">None</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="TXHousing.data_processing.permit.get_corrected_dallas_permit_data">
<code class="descclassname">TXHousing.data_processing.permit.</code><code class="descname">get_corrected_dallas_permit_data</code><span class="sig-paren">(</span><em>path='shared_data/dallas_corrected_permits/dallas_permits_corrected.shp'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/TXHousing/data_processing/permit.html#get_corrected_dallas_permit_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TXHousing.data_processing.permit.get_corrected_dallas_permit_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Get processed &amp; corrected Dallas permit data.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>path</strong> – the path to read the data from.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">GDF of Construciton permit data.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="TXHousing.data_processing.permit.process_austin_permit_data">
<code class="descclassname">TXHousing.data_processing.permit.</code><code class="descname">process_austin_permit_data</code><span class="sig-paren">(</span><em>searchfor</em>, <em>permittypedesc=None</em>, <em>workclass=None</em>, <em>earliest=None</em>, <em>latest=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/TXHousing/data_processing/permit.html#process_austin_permit_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TXHousing.data_processing.permit.process_austin_permit_data" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>searchfor</strong> – List of strings to search for in the ‘PermitClass’ and ‘Description’ columns. Often it’s worth
explicitly passing in permit classes, i.e. searchfor = [‘101 single family houses’].</li>
<li><strong>permittypedesc</strong> – The permittypedesc to match. Ex: “Building Permit.”</li>
<li><strong>workclass</strong> – Workclass to match. Ex: “New”</li>
<li><strong>earliest</strong> – Earliest date to consider (inclusive). Data runs from 1971-2018.</li>
<li><strong>latest</strong> – Latest date to consider (inclusive). Data runs from 1971-2018.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">GeoDataFrame of subsetted permit data.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="TXHousing.data_processing.permit.process_dallas_permit_data">
<code class="descclassname">TXHousing.data_processing.permit.</code><code class="descname">process_dallas_permit_data</code><span class="sig-paren">(</span><em>permit_types</em>, <em>earliest=None</em>, <em>latest=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/TXHousing/data_processing/permit.html#process_dallas_permit_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TXHousing.data_processing.permit.process_dallas_permit_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Initially process raw dallas permit data. However, the raw permit data has some inaccuracies, and
it’s best to simply read the corrected data from dpm_save_path.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>permit_types</strong> – List of permit types to filter for. Will only consider rows where the permit type is one of
these permit types.</li>
<li><strong>earliest</strong> – Earliest date to consider. Data runs from 2011-2016. Defaults to None.</li>
<li><strong>latest</strong> – Latest date to consider. Data runs from 2011-2016. Defaults to None.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first">UserWarning; some permit data is incorrect. Construction data has been corrected, and the corrected data is
stored at ‘dpm_save_path’ as listed in the inputs.py file.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">GeoDataFrame of subsetted permit data</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="TXHousing.data_processing.permit.process_houston_permit_data">
<code class="descclassname">TXHousing.data_processing.permit.</code><code class="descname">process_houston_permit_data</code><span class="sig-paren">(</span><em>searchfor=['NEW S.F.', 'NEW SF', 'NEW SINGLE', 'NEW TOWNHOUSE'], searchin=['PROJ_DESC'], kind='structural', earliest=None, latest=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/TXHousing/data_processing/permit.html#process_houston_permit_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TXHousing.data_processing.permit.process_houston_permit_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Process houston permit data. Note that houston permit data does not specify whether housing is new or not, this
requires parsing the descriptions to figure out whether housing is new sf/new mf housing. Thankfully the descriptions
are formulaic so this is not too hard to do.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>searchfor</strong> – A list of keywords to search for, i.e. [‘NEW S.F.’, ‘NEW SF’, ‘NEW SINGLE’, ‘NEW TOWNHOUSE’]).
To subset to only include new construction, each string should start with ‘NEW ‘.</li>
<li><strong>searchin</strong> – The columns to search in. Defualts to [‘PROJ_DESC’], project description. Note that the function
will return rows where ANY of the columns specified by ‘searchin’ contain ANY of the keywords in ‘searchfor’.</li>
<li><strong>kind</strong> – The kind of permit data to read in. Defaults to ‘structural’, can either by ‘structural’
or ‘demolition’</li>
<li><strong>earliest</strong> – Earliest date to consider.</li>
<li><strong>latest</strong> – Latest date to consider.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">GeoDataFrame of subsetted permit data.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="TXHousing.data_processing.permit.scrape_houston_permit_data">
<code class="descclassname">TXHousing.data_processing.permit.</code><code class="descname">scrape_houston_permit_data</code><span class="sig-paren">(</span><em>target_path='shared_data/houston_permit_statuses.csv'</em>, <em>kind='structural'</em>, <em>backup_path='shared_data/houston_permit_statuses_backup.csv'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/TXHousing/data_processing/permit.html#scrape_houston_permit_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TXHousing.data_processing.permit.scrape_houston_permit_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Scrapes Houston permit approval data and writes it to the target_path as well as the backup_path. It will never
overwrite any pre-existing csv files - it only appends information to csvs. This requires proper installation of the
headless chrome webdriver and takes a lot of time (~2 hours), so it’s probably best to pull the information from
<a class="reference external" href="https://github.com/amspector100/TXHousing/tree/reorganization/shared_data">https://github.com/amspector100/TXHousing/tree/reorganization/shared_data</a> instead of calling this function.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>target_path</strong> – The path to write the scraped data to.</li>
<li><strong>kind</strong> – The kind of permit data to scrape. Can either be ‘structural’ or ‘demolition’.</li>
<li><strong>backup_path</strong> – The path to write the scraped data to as a backup in case something happens to the original.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">None.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="analysis.html" class="btn btn-neutral float-right" title="Autogenerated Documentation for analysis package" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="utilities.html" class="btn btn-neutral" title="Autogenerated Documentation for utilities" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, Asher Spector.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'1.0',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  <script type="text/javascript" src="_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>